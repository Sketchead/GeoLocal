"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3742],{3742:(C,f,a)=>{a.d(f,{b:()=>l});var t=a(5861),d=a(7423);const i=(0,d.fo)("CapacitorGoogleMaps",{web:()=>a.e(111).then(a.bind(a,111)).then(s=>new s.CapacitorGoogleMapsWeb)});i.addListener("isMapInFocus",s=>{var e;const o=document.elementFromPoint(s.x,s.y),u=(null===(e=null==o?void 0:o.dataset)||void 0===e?void 0:e.internalId)===s.mapId;i.dispatchMapEvent({id:s.mapId,focus:u})});class L extends HTMLElement{constructor(){super()}connectedCallback(){if("ios"==d.dV.getPlatform()){this.style.overflow="scroll",this.style["-webkit-overflow-scrolling"]="touch";const e=document.createElement("div");e.style.height="200%",this.appendChild(e)}}}customElements.define("capacitor-google-map",L);class l{constructor(e){this.element=null,this.handleScrollEvent=()=>this.updateMapBounds(),this.id=e}static create(e,n){return(0,t.Z)(function*(){const r=new l(e.id);if(!e.element)throw new Error("container element is required");void 0===e.config.androidLiteMode&&(e.config.androidLiteMode=!1),r.element=e.element,r.element.dataset.internalId=e.id;const o=yield l.getElementBounds(e.element);if(e.config.width=o.width,e.config.height=o.height,e.config.x=o.x,e.config.y=o.y,e.config.devicePixelRatio=window.devicePixelRatio,"android"==d.dV.getPlatform()&&r.initScrolling(),d.dV.isNativePlatform()&&(e.element={}),yield i.create(e),n){const c=yield i.addListener("onMapReady",u=>{u.mapId==r.id&&(n(u),c.remove())})}return r})()}static getElementBounds(e){return(0,t.Z)(function*(){return new Promise(n=>{let r=e.getBoundingClientRect();if(0==r.width){let o=0;const c=setInterval(function(){0==r.width&&o<30?(r=e.getBoundingClientRect(),o++):(30==o&&console.warn("Map size could not be determined"),clearInterval(c),n(r))},100)}else n(r)})})()}enableClustering(){var e=this;return(0,t.Z)(function*(){return i.enableClustering({id:e.id})})()}disableClustering(){var e=this;return(0,t.Z)(function*(){return i.disableClustering({id:e.id})})()}addMarker(e){var n=this;return(0,t.Z)(function*(){return(yield i.addMarker({id:n.id,marker:e})).id})()}addMarkers(e){var n=this;return(0,t.Z)(function*(){return(yield i.addMarkers({id:n.id,markers:e})).ids})()}removeMarker(e){var n=this;return(0,t.Z)(function*(){return i.removeMarker({id:n.id,markerId:e})})()}removeMarkers(e){var n=this;return(0,t.Z)(function*(){return i.removeMarkers({id:n.id,markerIds:e})})()}destroy(){var e=this;return(0,t.Z)(function*(){return"android"==d.dV.getPlatform()&&e.disableScrolling(),e.removeAllMapListeners(),i.destroy({id:e.id})})()}setCamera(e){var n=this;return(0,t.Z)(function*(){return i.setCamera({id:n.id,config:e})})()}setMapType(e){var n=this;return(0,t.Z)(function*(){return i.setMapType({id:n.id,mapType:e})})()}enableIndoorMaps(e){var n=this;return(0,t.Z)(function*(){return i.enableIndoorMaps({id:n.id,enabled:e})})()}enableTrafficLayer(e){var n=this;return(0,t.Z)(function*(){return i.enableTrafficLayer({id:n.id,enabled:e})})()}enableAccessibilityElements(e){var n=this;return(0,t.Z)(function*(){return i.enableAccessibilityElements({id:n.id,enabled:e})})()}enableCurrentLocation(e){var n=this;return(0,t.Z)(function*(){return i.enableCurrentLocation({id:n.id,enabled:e})})()}setPadding(e){var n=this;return(0,t.Z)(function*(){return i.setPadding({id:n.id,padding:e})})()}getMapBounds(){var e=this;return(0,t.Z)(function*(){return i.getMapBounds({id:e.id})})()}initScrolling(){const e=document.getElementsByTagName("ion-content");for(let n=0;n<e.length;n++)e[n].scrollEvents=!0;window.addEventListener("ionScroll",this.handleScrollEvent),window.addEventListener("scroll",this.handleScrollEvent),window.addEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.addEventListener("change",()=>{setTimeout(this.updateMapBounds,500)}):window.addEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,500)})}disableScrolling(){window.removeEventListener("ionScroll",this.handleScrollEvent),window.removeEventListener("scroll",this.handleScrollEvent),window.removeEventListener("resize",this.handleScrollEvent),screen.orientation?screen.orientation.removeEventListener("change",()=>{setTimeout(this.updateMapBounds,1e3)}):window.removeEventListener("orientationchange",()=>{setTimeout(this.updateMapBounds,1e3)})}updateMapBounds(){if(this.element){const e=this.element.getBoundingClientRect();i.onScroll({id:this.id,mapBounds:{x:e.x,y:e.y,width:e.width,height:e.height}})}}setOnCameraIdleListener(e){var n=this;return(0,t.Z)(function*(){n.onCameraIdleListener&&n.onCameraIdleListener.remove(),n.onCameraIdleListener=e?yield i.addListener("onCameraIdle",n.generateCallback(e)):void 0})()}setOnBoundsChangedListener(e){var n=this;return(0,t.Z)(function*(){n.onBoundsChangedListener&&n.onBoundsChangedListener.remove(),n.onBoundsChangedListener=e?yield i.addListener("onBoundsChanged",n.generateCallback(e)):void 0})()}setOnCameraMoveStartedListener(e){var n=this;return(0,t.Z)(function*(){n.onCameraMoveStartedListener&&n.onCameraMoveStartedListener.remove(),n.onCameraMoveStartedListener=e?yield i.addListener("onCameraMoveStarted",n.generateCallback(e)):void 0})()}setOnClusterClickListener(e){var n=this;return(0,t.Z)(function*(){n.onClusterClickListener&&n.onClusterClickListener.remove(),n.onClusterClickListener=e?yield i.addListener("onClusterClick",n.generateCallback(e)):void 0})()}setOnClusterInfoWindowClickListener(e){var n=this;return(0,t.Z)(function*(){n.onClusterInfoWindowClickListener&&n.onClusterInfoWindowClickListener.remove(),n.onClusterInfoWindowClickListener=e?yield i.addListener("onClusterInfoWindowClick",n.generateCallback(e)):void 0})()}setOnInfoWindowClickListener(e){var n=this;return(0,t.Z)(function*(){n.onInfoWindowClickListener&&n.onInfoWindowClickListener.remove(),n.onInfoWindowClickListener=e?yield i.addListener("onInfoWindowClick",n.generateCallback(e)):void 0})()}setOnMapClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMapClickListener&&n.onMapClickListener.remove(),n.onMapClickListener=e?yield i.addListener("onMapClick",n.generateCallback(e)):void 0})()}setOnMarkerClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerClickListener&&n.onMarkerClickListener.remove(),n.onMarkerClickListener=e?yield i.addListener("onMarkerClick",n.generateCallback(e)):void 0})()}setOnMarkerDragStartListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragStartListener&&n.onMarkerDragStartListener.remove(),n.onMarkerDragStartListener=e?yield i.addListener("onMarkerDragStart",n.generateCallback(e)):void 0})()}setOnMarkerDragListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragListener&&n.onMarkerDragListener.remove(),n.onMarkerDragListener=e?yield i.addListener("onMarkerDrag",n.generateCallback(e)):void 0})()}setOnMarkerDragEndListener(e){var n=this;return(0,t.Z)(function*(){n.onMarkerDragEndListener&&n.onMarkerDragEndListener.remove(),n.onMarkerDragEndListener=e?yield i.addListener("onMarkerDragEnd",n.generateCallback(e)):void 0})()}setOnMyLocationButtonClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMyLocationButtonClickListener&&n.onMyLocationButtonClickListener.remove(),n.onMyLocationButtonClickListener=e?yield i.addListener("onMyLocationButtonClick",n.generateCallback(e)):void 0})()}setOnMyLocationClickListener(e){var n=this;return(0,t.Z)(function*(){n.onMyLocationClickListener&&n.onMyLocationClickListener.remove(),n.onMyLocationClickListener=e?yield i.addListener("onMyLocationClick",n.generateCallback(e)):void 0})()}removeAllMapListeners(){var e=this;return(0,t.Z)(function*(){e.onBoundsChangedListener&&(e.onBoundsChangedListener.remove(),e.onBoundsChangedListener=void 0),e.onCameraIdleListener&&(e.onCameraIdleListener.remove(),e.onCameraIdleListener=void 0),e.onCameraMoveStartedListener&&(e.onCameraMoveStartedListener.remove(),e.onCameraMoveStartedListener=void 0),e.onClusterClickListener&&(e.onClusterClickListener.remove(),e.onClusterClickListener=void 0),e.onClusterInfoWindowClickListener&&(e.onClusterInfoWindowClickListener.remove(),e.onClusterInfoWindowClickListener=void 0),e.onInfoWindowClickListener&&(e.onInfoWindowClickListener.remove(),e.onInfoWindowClickListener=void 0),e.onMapClickListener&&(e.onMapClickListener.remove(),e.onMapClickListener=void 0),e.onMarkerClickListener&&(e.onMarkerClickListener.remove(),e.onMarkerClickListener=void 0),e.onMyLocationButtonClickListener&&(e.onMyLocationButtonClickListener.remove(),e.onMyLocationButtonClickListener=void 0),e.onMyLocationClickListener&&(e.onMyLocationClickListener.remove(),e.onMyLocationClickListener=void 0)})()}generateCallback(e){const n=this.id;return r=>{r.mapId==n&&e(r)}}}}}]);