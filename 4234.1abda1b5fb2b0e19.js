"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4234],{4234:(_,M,o)=>{o.r(M),o.d(M,{RegisterClientPageModule:()=>i});var g=o(9808),r=o(4182),a=o(7590),p=o(7733),c=o(655),e=o(2096),f=o(2425),v=o(7323),C=o(7556);const P=[{path:"",component:(()=>{class t{constructor(s,l,m,d,O,y){this.clientService=s,this.auth=l,this.a=m,this.alertController=d,this.loadingController=O,this.router=y}ngOnInit(){}addclient(){return(0,c.mG)(this,void 0,void 0,function*(){const s=yield this.loadingController.create();yield s.present(),this.client={user:this.auth.currentUser.uid,email:this.auth.currentUser.email,name:this.name,username:this.username,firstLastname:this.firstLastname,secondLastname:this.secondLastname,type:"client"},yield this.clientService.createClient(this.client),yield s.dismiss(),yield this.router.navigateByUrl("/app/home",{replaceUrl:!0})})}showAlert(s,l){return(0,c.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:s,message:l,buttons:["OK"]})).present()})}}return t.\u0275fac=function(s){return new(s||t)(e.Y36(f.y),e.Y36(v.gx),e.Y36(C.e),e.Y36(a.Br),e.Y36(a.HT),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-register-client"]],decls:26,vars:6,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["id","container"],["id","logo"],["src","/assets/images/Logo.png"],["ngNativeValidate","",3,"ngSubmit"],[1,"formulario"],[1,"campo"],["type","text","id","nombre","name","name","required","",3,"ngModel","ngModelChange"],["type","text","id","username","name","username","required","",3,"ngModel","ngModelChange"],["type","text","id","pLastname","name","pLastname","required","",3,"ngModel","ngModelChange"],["type","text","id","mLastname","name","mLastname","required","",3,"ngModel","ngModelChange"],["id","botonRegistro","type","submit"]],template:function(s,l){1&s&&(e._UZ(0,"ion-header",0),e.TgZ(1,"ion-content",1),e._UZ(2,"ion-header",2),e.TgZ(3,"div",3)(4,"div",4),e._UZ(5,"ion-img",5),e.qZA(),e.TgZ(6,"form",6),e.NdJ("ngSubmit",function(){return l.addclient()}),e.TgZ(7,"div",7)(8,"div",8)(9,"label"),e._uU(10,"NOMBRE(S)"),e.qZA(),e.TgZ(11,"input",9),e.NdJ("ngModelChange",function(d){return l.name=d}),e.qZA()(),e.TgZ(12,"div",8)(13,"label"),e._uU(14,"NOMBRE USUARIO"),e.qZA(),e.TgZ(15,"input",10),e.NdJ("ngModelChange",function(d){return l.username=d}),e.qZA()(),e.TgZ(16,"div",8)(17,"label"),e._uU(18,"APELLIDO PATERNO"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(d){return l.firstLastname=d}),e.qZA()(),e.TgZ(20,"div",8)(21,"label"),e._uU(22,"APELLIDO MATERNO"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(d){return l.secondLastname=d}),e.qZA()(),e.TgZ(24,"button",13),e._uU(25,"REGISTRARSE"),e.qZA()()()()()),2&s&&(e.Q6J("translucent",!0),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(10),e.Q6J("ngModel",l.name),e.xp6(4),e.Q6J("ngModel",l.username),e.xp6(4),e.Q6J("ngModel",l.firstLastname),e.xp6(4),e.Q6J("ngModel",l.secondLastname))},dependencies:[r.Fj,r.JJ,r.JL,r.Q7,r.On,r.F,a.W2,a.Gu,a.Xz],styles:['#container[_ngcontent-%COMP%]{text-align:center;position:relative;height:100vh}#container[_ngcontent-%COMP%]:before{content:"";background:url(/assets/images/fondoInicio.jpg);height:100%;background-position:center;background-repeat:no-repeat;background-size:cover;opacity:.3;position:absolute;inset:0;z-index:-1}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#logo[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;width:60%}.formulario[_ngcontent-%COMP%]{display:block;position:relative}.formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{position:absolute;margin:5px;color:#ea7622;font-weight:700;font-size:15px}.formulario[_ngcontent-%COMP%]   .campo[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin:35px 5px 10px;width:80%;border:none;font-size:15px;border-bottom:2px solid #EA7622;padding-bottom:5px;background-color:#00000003}#botonRegistro[_ngcontent-%COMP%]{margin:15px;width:80%;border-radius:20px;font-size:25x;color:#000;background-color:#fff;border:1px solid #EA7622;font-weight:bolder;padding-top:7px;padding-bottom:7px}']}),t})()}];let n=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(P),p.Bz]}),t})(),i=(()=>{class t{}return t.\u0275fac=function(s){return new(s||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[g.ez,r.u5,a.Pc,n,r.UX]}),t})()},7556:(_,M,o)=>{o.d(M,{e:()=>C});var g=o(655),r=o(7323),a=o(8304),p=o(7311),c=o(2731),e=o(5070),f=o(3562),v=o(2096);let C=(()=>{class h{constructor(n,i){this.auth=n,this.firestore=i}register({email:n,password:i}){return(0,g.mG)(this,void 0,void 0,function*(){try{return yield(0,e.Xb)(this.auth,n,i)}catch(t){return null}})}googleregister(){return(0,g.mG)(this,void 0,void 0,function*(){try{const n=(0,r.v0)(),i=new a.hJ;yield(0,a.F6)(n,i)}catch(n){return null}})}facebookregister(){return(0,g.mG)(this,void 0,void 0,function*(){try{const n=(0,r.v0)(),i=new a._O;yield(0,a.F6)(n,i)}catch(n){return null}})}hasSetup(){return(0,g.mG)(this,void 0,void 0,function*(){const i=(0,r.v0)().currentUser.uid,t=(0,c.hJ)(this.firestore,"users");return(0,c.IO)((0,c.hJ)(t,"users"),(0,c.ar)("user","==",i))?(console.log("false"),()=>(0,p.Y_)(["/app/home"])):()=>(0,p.Y_)(["/user-type"])})}login({email:n,password:i}){return(0,g.mG)(this,void 0,void 0,function*(){try{return yield(0,r.e5)(this.auth,n,i)}catch(t){return console.log("error Login: "+t),t}})}googleLogin(){return(0,g.mG)(this,void 0,void 0,function*(){try{const n=(0,r.v0)(),i=new a.hJ;yield(0,a.F6)(n,i)}catch(n){return null}})}facebookLogin(){return(0,g.mG)(this,void 0,void 0,function*(){try{const n=(0,r.v0)(),i=new a._O;yield(0,a.F6)(n,i)}catch(n){return null}})}logout(){return(0,e.w7)(this.auth)}getUserType(n){return(0,g.mG)(this,void 0,void 0,function*(){const i=(0,f.JU)(this.firestore,`users/${n}`);let t=null;(0,f.QT)(i).then(u=>(console.log(u.data(),u.id),t=u.data(),t.type))})}}return h.\u0275fac=function(n){return new(n||h)(v.LFG(r.gx),v.LFG(f.gg))},h.\u0275prov=v.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()}}]);