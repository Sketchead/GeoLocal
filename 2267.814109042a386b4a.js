"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2267],{6090:(D,E,s)=>{s.d(E,{b:()=>c});const c=(0,s(7423).fo)("Geolocation",{web:()=>s.e(4561).then(s.bind(s,4561)).then(d=>new d.GeolocationWeb)})},2267:(D,E,s)=>{s.d(E,{U:()=>z});var u=s(655),c=s(8304),d=s(3562),m=s(6090),t=s(2096),x=s(7733),v=s(2468),O=s(7323),_=s(7590),f=s(5083),a=s(7556),n=s(9808);function l(i,p){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.createPost())}),t.qZA(),t.TgZ(2,"ion-button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.createPost())}),t._UZ(3,"ion-icon",9),t.qZA(),t.BQk()}}function g(i,p){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-input",7),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.createPublicity())}),t.qZA(),t.TgZ(2,"ion-button",8),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2);return t.KtG(r.createPublicity())}),t._UZ(3,"ion-icon",9),t.qZA(),t.BQk()}}function P(i,p){if(1&i&&(t.TgZ(0,"ion-row"),t.YNc(1,l,4,0,"ng-container",5),t.YNc(2,g,4,0,"ng-container",5),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","client"==e.userType),t.xp6(1),t.Q6J("ngIf","restaurant"==e.userType)}}function T(i,p){if(1&i&&t._UZ(0,"ion-img",23),2&i){const e=t.oxw(3);t.Q6J("src",e.profilePicture)}}function M(i,p){1&i&&(t.TgZ(0,"div",24),t._UZ(1,"img",25)(2,"p",26),t.qZA())}function U(i,p){1&i&&(t.ynx(0),t._UZ(1,"ion-icon",27),t.BQk())}function A(i,p){1&i&&(t.ynx(0),t.TgZ(1,"ion-chip",28)(2,"ion-label"),t._uU(3,"Recomendado"),t.qZA()(),t.BQk())}function K(i,p){1&i&&(t.ynx(0),t.TgZ(1,"ion-chip",29)(2,"ion-label"),t._uU(3,"No Recomendado"),t.qZA()(),t.BQk())}function G(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",30),t._UZ(1,"ion-icon",31),t.TgZ(2,"div",32)(3,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,h=t.oxw();return t.KtG(h.deleteConfirmation(r))}),t._uU(4,"Eliminar"),t.qZA(),t.TgZ(5,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,h=t.oxw();return t.KtG(h.updatePost(r.id))}),t._uU(6,"Editar"),t.qZA()()()}}function w(i,p){if(1&i&&(t.ynx(0),t.TgZ(1,"ion-slide"),t._UZ(2,"img",23),t.qZA(),t.BQk()),2&i){const e=p.$implicit;t.xp6(2),t.s9C("src",e,t.LSH)}}function W(i,p){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-card")(2,"ion-card-header")(3,"div",10)(4,"div",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,h=t.oxw();return t.KtG(h.seeProfile(r.author))}),t.TgZ(5,"div",12)(6,"ion-avatar"),t.YNc(7,T,1,1,"ion-img",13),t.YNc(8,M,3,0,"ng-template",null,14,t.W1O),t.qZA(),t.TgZ(10,"ion-card-title"),t._uU(11),t.qZA(),t.TgZ(12,"ion-card-subtitle"),t._uU(13),t.YNc(14,U,2,0,"ng-container",5),t.qZA()(),t.YNc(15,A,4,0,"ng-container",5),t.YNc(16,K,4,0,"ng-container",5),t.qZA(),t.TgZ(17,"div",15),t.YNc(18,G,7,0,"div",16),t.qZA()()(),t.TgZ(19,"ion-card-content",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,h=t.oxw();return t.KtG(h.seePost(r.id))}),t.TgZ(20,"ion-col",18)(21,"ion-slides",19),t.YNc(22,w,3,1,"ng-container",6),t.qZA()(),t.TgZ(23,"div",20)(24,"p",21),t._uU(25),t.qZA(),t.TgZ(26,"p",22),t._uU(27),t.qZA()()()(),t.BQk()}if(2&i){const e=t.MAs(9),o=t.oxw().$implicit,r=t.oxw();t.xp6(7),t.Q6J("ngIf",r.hasimage(o))("ngIfElse",e),t.xp6(4),t.Oqu(r.user(o)),t.xp6(2),t.hij("",r.type(o)," "),t.xp6(1),t.Q6J("ngIf",0==o.positive),t.xp6(1),t.Q6J("ngIf",1==o.positive),t.xp6(1),t.Q6J("ngIf",0==o.positive),t.xp6(2),t.Q6J("ngIf",o.author==r.auth.currentUser.uid),t.xp6(4),t.Q6J("ngForOf",o.images),t.xp6(3),t.Oqu(o.title),t.xp6(2),t.hij("",r.postText(o.text)," ")}}function S(i,p){if(1&i&&t._UZ(0,"ion-img",23),2&i){const e=t.oxw(3);t.Q6J("src",e.profilePicture)}}function F(i,p){1&i&&(t.TgZ(0,"div",24),t._UZ(1,"img",25)(2,"p",26),t.qZA())}function N(i,p){1&i&&t.GkF(0)}function Q(i,p){if(1&i){const e=t.EpF();t.TgZ(0,"div",30),t._UZ(1,"ion-icon",31),t.TgZ(2,"div",32)(3,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,h=t.oxw();return t.KtG(h.deleteConfirmation(r))}),t._uU(4,"Eliminar"),t.qZA(),t.TgZ(5,"a",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw(2).$implicit,h=t.oxw();return t.KtG(h.updatePost(r.id))}),t._uU(6,"Editar"),t.qZA()()()}}function Y(i,p){if(1&i&&(t.ynx(0),t.TgZ(1,"ion-slide"),t._UZ(2,"img",23),t.qZA(),t.BQk()),2&i){const e=p.$implicit;t.xp6(2),t.s9C("src",e,t.LSH)}}function $(i,p){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"ion-card",33)(2,"ion-card-header")(3,"div",10)(4,"div",11),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,h=t.oxw();return t.KtG(h.seeProfile(r.author))}),t.TgZ(5,"div",12)(6,"ion-avatar"),t.YNc(7,S,1,1,"ion-img",13),t.YNc(8,F,3,0,"ng-template",null,14,t.W1O),t.qZA(),t.TgZ(10,"ion-card-title"),t._uU(11),t.qZA(),t.TgZ(12,"ion-card-subtitle"),t._uU(13),t.YNc(14,N,1,0,"ng-container",5),t.qZA()()(),t.TgZ(15,"div",15),t.YNc(16,Q,7,0,"div",16),t.qZA()()(),t.TgZ(17,"ion-card-content",17),t.NdJ("click",function(){t.CHM(e);const r=t.oxw().$implicit,h=t.oxw();return t.KtG(h.seePost(r.id))}),t.TgZ(18,"ion-col",18)(19,"ion-slides",19),t.YNc(20,Y,3,1,"ng-container",6),t.qZA()(),t.TgZ(21,"div",20)(22,"p",21),t._uU(23),t.qZA(),t.TgZ(24,"p",22),t._uU(25),t.qZA()()()(),t.BQk()}if(2&i){const e=t.MAs(9),o=t.oxw().$implicit,r=t.oxw();t.xp6(7),t.Q6J("ngIf",r.hasimage(o))("ngIfElse",e),t.xp6(4),t.Oqu(r.user(o)),t.xp6(2),t.hij("",r.type(o)," "),t.xp6(1),t.Q6J("ngIf",0==o.positive),t.xp6(2),t.Q6J("ngIf",o.author==r.auth.currentUser.uid),t.xp6(4),t.Q6J("ngForOf",o.images),t.xp6(3),t.Oqu(o.title),t.xp6(2),t.hij("",r.postText(o.text)," ")}}function k(i,p){if(1&i&&(t.ynx(0),t.YNc(1,W,28,11,"ng-container",5),t.YNc(2,$,26,9,"ng-container",5),t.BQk()),2&i){const e=p.$implicit;t.xp6(1),t.Q6J("ngIf","publicity"!=e.type),t.xp6(1),t.Q6J("ngIf","publicity"==e.type)}}let z=(()=>{class i{constructor(e,o,r,h,j,q,X,V){this.router=e,this.dataService=o,this.auth=r,this.alertController=h,this.loadingController=j,this.avatarService=q,this.authServ=X,this.firestore=V,this.userLogged=null,this.posts=[],this.profiles=[],this.profilePicture=null,this.username=null,this.userType=null,this.pos=[1,2],this.nearbyPosts=[],this.dataService.getPosts().subscribe(y=>{this.posts=y,(()=>{(0,u.mG)(this,void 0,void 0,function*(){this.nearbyPosts=[];const C=yield m.b.getCurrentPosition();this.pos[0]=C.coords.latitude,this.pos[1]=C.coords.longitude;for(let Z=0;Z<this.posts.length;Z++){console.log("Lat:",this.pos[0]),console.log("Lon:",this.pos[1]);var R=y[Z].pos[0],et=y[Z].pos[1],b=this.pos[0],nt=this.pos[1],L=this.toRad(R-b),J=this.toRad(et-nt),H=Math.sin(L/2)*Math.sin(L/2)+Math.cos(this.toRad(b))*Math.cos(this.toRad(R))*Math.sin(J/2)*Math.sin(J/2),B=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H))*6371;console.log("DISTANCIA: ",B),B<5&&this.nearbyPosts.push(y[Z])}console.log(this.nearbyPosts)})})()}),this.dataService.getProfiles().subscribe(y=>{this.profiles=y});const tt=(0,c.v0)();(0,c.Aj)(tt,y=>(0,u.mG)(this,void 0,void 0,function*(){if(y){this.userLogged=this.auth.currentUser.uid;const I=(0,d.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);yield(0,d.QT)(I).then(C=>(0,u.mG)(this,void 0,void 0,function*(){C.data()?this.userType=yield C.data().client.type:this.router.navigateByUrl("/user-type",{replaceUrl:!0})}))}else this.router.navigateByUrl("/login",{replaceUrl:!0})}))}postText(e){return null==e?e:e.length>250?(e=e.substring(0,200))+" ...":e}hasimage(e){for(let o=0;o<this.profiles.length;o++)if(e.author==this.profiles[o].client.user)return this.profilePicture=this.profiles[o].imageURL,!0;return!1}user(e){for(let o=0;o<this.profiles.length;o++)if(e.author==this.profiles[o].client.user)return this.username=this.profiles[o].client.username,this.username;return"Prueba"}type(e){let o="";for(let r=0;r<this.profiles.length;r++)if(e.author==this.profiles[r].client.user)return o=this.profiles[r].client.type,o;return"tipo"}seePost(e){this.router.navigate(["/view-post"],{queryParams:{id:e}})}seeProfile(e){e==this.userLogged?this.router.navigate(["/app/profile"]):this.router.navigate(["/view-profile"],{queryParams:{id:e}})}updatePost(e){console.log("upd click"),this.router.navigate(["/edit-post"],{queryParams:{id:e}})}createPost(){this.router.navigate(["/create-post"])}createPublicity(){this.router.navigate(["/create-publicity-post"])}deletePost(e,o){return(0,u.mG)(this,void 0,void 0,function*(){if(o){const r=yield this.loadingController.create();yield r.present(),yield this.dataService.deletePost(e),yield r.dismiss(),yield this.dataService.getPosts().subscribe(h=>{this.posts=h}),this.Done("Eliminado exitoso","La publicacion se ha eliminado con exito")}})}deleteConfirmation(e){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:"\xbfEstas seguro?",message:"Una vez eliminado, no se podra recuperar",cssClass:"custom-alert",buttons:[{text:"No",handler:()=>this.deletePost(e,!1)},{text:"Si",handler:()=>this.deletePost(e,!0)}]})).present()})}Done(e,o){return(0,u.mG)(this,void 0,void 0,function*(){yield(yield this.alertController.create({header:e,message:o,buttons:["OK"]})).present()})}toRad(e){return e*Math.PI/180}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(x.F0),t.Y36(v.D),t.Y36(O.gx),t.Y36(_.Br),t.Y36(_.HT),t.Y36(f.o),t.Y36(a.e),t.Y36(d.gg))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],decls:11,vars:4,consts:[[3,"translucent"],["id","headerLogo","src","/assets/images/logoHeader.png","size","xs"],["id","headerTitle","align-self-end",""],[3,"fullscreen"],["collapse","condense"],[4,"ngIf"],[4,"ngFor","ngForOf"],["placeholder","Publica algo",3,"click"],["color","success","fill","clear","expand","full","type","submit",1,"ion-float-right",3,"click"],["name","images-outline"],[1,"row"],[1,"column",3,"click"],[1,"profile"],[3,"src",4,"ngIf","ngIfElse"],["placeholder_avatar",""],[1,"column"],["class","dropdown",4,"ngIf"],[3,"click"],[1,"imgs"],["pager","true","loop","true"],[1,"text"],[1,"title"],[1,"subtitle"],[3,"src"],[1,"fallback"],["src","https://t3.ftcdn.net/jpg/03/72/38/88/360_F_372388834_bUf3QEyES2fkPj0D7g0ZBMng2DuSgld7.jpg",1,"profileIcon"],[1,"profileIcontext"],["name","thumbs-up-outline"],["color","success"],["color","danger"],[1,"dropdown"],["name","ellipsis-vertical-outline",1,"dropbtn"],[1,"dropdown-content"],["color","medium"]],template:function(e,o){1&e&&(t.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-row"),t._UZ(3,"ion-img",1),t.TgZ(4,"ion-label",2),t._uU(5,"GeoLocal"),t.qZA()()()(),t.TgZ(6,"ion-content",3),t._UZ(7,"ion-header",4),t.YNc(8,P,3,2,"ion-row",5),t.TgZ(9,"ion-col"),t.YNc(10,k,3,2,"ng-container",6),t.qZA()()),2&e&&(t.Q6J("translucent",!0),t.xp6(6),t.Q6J("fullscreen",!0),t.xp6(2),t.Q6J("ngIf",o.userLogged),t.xp6(2),t.Q6J("ngForOf",o.nearbyPosts))},dependencies:[n.sg,n.O5,_.BJ,_.YG,_.PM,_.FN,_.Zi,_.tO,_.Dq,_.hM,_.wI,_.W2,_.Gu,_.gu,_.Xz,_.pK,_.Q$,_.Nd,_.A$,_.Hr,_.sr,_.j9],styles:['#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}#headerTitle[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#ea7622;vertical-align:text-bottom;margin-left:1em;margin-top:1em}#headerLogo[_ngcontent-%COMP%]{height:3em;width:5em}.column[_ngcontent-%COMP%]{float:left;width:50%}.dropbtn[_ngcontent-%COMP%]{padding:10px;font-size:16px;border:none}.dropdown[_ngcontent-%COMP%]{float:right;width:50%;display:flex;justify-content:flex-end}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.dropdown-content[_ngcontent-%COMP%]{margin-top:40px;display:none;position:absolute;background-color:#f1f1f1;min-width:160px;box-shadow:0 8px 16px #0003;z-index:7}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#000;padding:12px 16px;text-decoration:none;display:block}.dropdown-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#ea7622;color:#fff}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-content[_ngcontent-%COMP%]{display:block}.dropdown[_ngcontent-%COMP%]:hover   .dropbtn[_ngcontent-%COMP%]{background-color:#bebebe}ion-avatar[_ngcontent-%COMP%]{width:35px;height:35px}.profile[_ngcontent-%COMP%]{display:flex}.profile[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{position:absolute;margin-left:43px;font-size:15px;font-weight:600}.profile[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{position:absolute;margin-left:43px;font-size:12px;padding-top:20px}ion-card-header[_ngcontent-%COMP%]{padding-bottom:10px}ion-card-content[_ngcontent-%COMP%]{padding:0;height:auto}ion-slide[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover}.text[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px;padding:5px}.title[_ngcontent-%COMP%]{font-weight:700}.imgs[_ngcontent-%COMP%]{padding:0;margin:0}input[_ngcontent-%COMP%]{padding-bottom:0}']}),i})()},7556:(D,E,s)=>{s.d(E,{e:()=>_});var u=s(655),c=s(7323),d=s(8304),m=s(7311),t=s(2731),x=s(5070),v=s(3562),O=s(2096);let _=(()=>{class f{constructor(n,l){this.auth=n,this.firestore=l}register({email:n,password:l}){return(0,u.mG)(this,void 0,void 0,function*(){try{return yield(0,x.Xb)(this.auth,n,l)}catch(g){return null}})}googleregister(){return(0,u.mG)(this,void 0,void 0,function*(){try{const n=(0,c.v0)(),l=new d.hJ;yield(0,d.F6)(n,l)}catch(n){return null}})}facebookregister(){return(0,u.mG)(this,void 0,void 0,function*(){try{const n=(0,c.v0)(),l=new d._O;yield(0,d.F6)(n,l)}catch(n){return null}})}hasSetup(){return(0,u.mG)(this,void 0,void 0,function*(){const l=(0,c.v0)().currentUser.uid,g=(0,t.hJ)(this.firestore,"users");return(0,t.IO)((0,t.hJ)(g,"users"),(0,t.ar)("user","==",l))?(console.log("false"),()=>(0,m.Y_)(["/app/home"])):()=>(0,m.Y_)(["/user-type"])})}login({email:n,password:l}){return(0,u.mG)(this,void 0,void 0,function*(){try{return yield(0,c.e5)(this.auth,n,l)}catch(g){return console.log("error Login: "+g),g}})}googleLogin(){return(0,u.mG)(this,void 0,void 0,function*(){try{const n=(0,c.v0)(),l=new d.hJ;yield(0,d.F6)(n,l)}catch(n){return null}})}facebookLogin(){return(0,u.mG)(this,void 0,void 0,function*(){try{const n=(0,c.v0)(),l=new d._O;yield(0,d.F6)(n,l)}catch(n){return null}})}logout(){return(0,x.w7)(this.auth)}getUserType(n){return(0,u.mG)(this,void 0,void 0,function*(){const l=(0,v.JU)(this.firestore,`users/${n}`);let g=null;(0,v.QT)(l).then(P=>(console.log(P.data(),P.id),g=P.data(),g.type))})}}return f.\u0275fac=function(n){return new(n||f)(O.LFG(c.gx),O.LFG(v.gg))},f.\u0275prov=O.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},5083:(D,E,s)=>{s.d(E,{o:()=>x});var u=s(655),c=s(3562),d=s(6180),m=s(2096),t=s(7323);let x=(()=>{class v{constructor(_,f,a){this.auth=_,this.firestore=f,this.storage=a}getUserProfile(){const f=(0,c.JU)(this.firestore,`users/${this.auth.currentUser.uid}`);return(0,c._1)(f)}getUserProfileWId(_){const a=(0,c.JU)(this.firestore,`users/${_}`);return(0,c._1)(a)}uploadPhoto(_,f){return(0,u.mG)(this,void 0,void 0,function*(){const a=yield this.auth.currentUser,l=(0,d.iH)(this.storage,`uploads/${a.uid}/profile.png`);try{yield(0,d.sf)(l,_.base64String,"base64");const g=yield(0,d.Jt)(l),P=(0,c.JU)(this.firestore,`users/${a.uid}`);return yield(0,c.r7)(P,{imageURL:g}),!0}catch(g){return console.log(g),null}})}}return v.\u0275fac=function(_){return new(_||v)(m.LFG(t.gx),m.LFG(c.gg),m.LFG(d.Ke))},v.\u0275prov=m.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})()},2468:(D,E,s)=>{s.d(E,{D:()=>O});var u=s(655),c=s(3562),d=s(6180),m=s(6961),t=s(5525),x=s(2096),v=s(7323);let O=(()=>{class _{constructor(a,n,l){this.firestore=a,this.auth=n,this.storage=l}getPosts(){const a=(0,c.hJ)(this.firestore,"posts");return(0,c.BS)(a,{idField:"id"})}getUsers(){const a=(0,c.hJ)(this.firestore,"posts");return(0,c.BS)(a,{idField:"id"})}getProfiles(){const a=(0,c.hJ)(this.firestore,"users");return(0,c.BS)(a,{idField:"user"})}getPostById(a){let n;const l=(0,c.JU)(this.firestore,`posts/${a}`);let g=(0,c._1)(l,{idField:"id"});return n.author=g.author,n.id=g.id,n.images=g.images,n.pos=g.pos,n.positive=g.positive,n.text=g.text,n.title=g.title,n}addPost(a){const n=(0,c.hJ)(this.firestore,"posts");return(0,c.ET)(n,a)}addPostGetId(a){const n=(0,c.hJ)(this.firestore,"posts");return(0,c.ET)(n,a).then(g=>(console.log(g.id),g.id))}deletePost(a){const n=(0,c.JU)(this.firestore,`posts/${a.id}`);return(0,c.oe)(n)}deleteImage(a){for(let l=0;l<a.images.length;l++)console.log(a.images[l])}updatePost(a){const n=(0,c.JU)(this.firestore,`posts/${a.id}`);return(0,c.r7)(n,{title:a.title,text:a.text,positive:a.positive})}uploadPhoto(a){return(0,u.mG)(this,void 0,void 0,function*(){let n;const T=(0,d.iH)(this.storage,`uploads/${this.auth.currentUser.uid}/photo.png`);try{yield(0,m.sf)(T,a.base64String,"base64"),n=[yield(0,m.Jt)(T)];const U=(0,c.JU)(this.firestore,"posts/bvSZeSKsuk6Ea95M6ytv");return yield(0,t.pl)(U,{images:n}),!0}catch(M){return console.log(M),null}})}uploadPhotoWId(a,n){return(0,u.mG)(this,void 0,void 0,function*(){let l;const P=n,M=(0,d.iH)(this.storage,`uploads/${this.auth.currentUser.uid}/${P}/photo.png`);try{yield(0,m.sf)(M,a.base64String,"base64"),l=[yield(0,m.Jt)(M)];const A=(0,c.JU)(this.firestore,`posts/${P}`);return yield(0,c.r7)(A,{images:l}),!0}catch(U){return console.log(U),null}})}getImagesArray(a){return(0,u.mG)(this,void 0,void 0,function*(){let n;const T=(0,d.iH)(this.storage,`uploads/${this.auth.currentUser.uid}/photo.png`);try{return yield(0,m.sf)(T,a.base64String,"base64"),n=[yield(0,m.Jt)(T)],n}catch(M){return console.log(M),null}})}getDoc(a){return(0,u.mG)(this,void 0,void 0,function*(){const n=(0,c.JU)(this.firestore,`posts/${a}`);let l=null;(0,c.QT)(n).then(g=>(console.log(g.data(),g.id),l=g.data(),l))})}}return _.\u0275fac=function(a){return new(a||_)(x.LFG(c.gg),x.LFG(v.gx),x.LFG(d.Ke))},_.\u0275prov=x.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()}}]);